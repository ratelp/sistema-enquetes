<nav class="main-navbar" data-controller="navbar">
  <%= link_to "Sistema de Enquetes", root_path, class: "navbar-brand" %>

  <div class="navbar-menu" data-navbar-target="menu">
    <div class="navbar-links">
      <% if user_signed_in? %>
        <%= link_to t("navbar.all_polls"), polls_path %>
        <% if current_user.administrador? %>
          <%= link_to t("navbar.users"), users_path %>
        <% else %>
          <%= link_to t("navbar.my_polls"), ownPolls_path %>
          <%= link_to t("navbar.voted_polls"), votedPolls_path %>
        <% end %>
      <% end %>
    </div>

    <div class="navbar-user-actions">
      <% if user_signed_in? %>
        <span class= 'navbar-greeting'><%= t("navbar.greeting", email: current_user.email) %></span>
        <%= link_to t("navbar.sign_out"), destroy_user_session_path, data: { turbo_method: :delete }, class: "sign-out-link" %>
      <% else %>
        <%= link_to t("navbar.sign_in"), new_user_session_path %>
      <% end %>
    </div>
  </div>


  <button class="navbar-toggle" data-action="click->navbar#toggle">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
  </button>
</nav>