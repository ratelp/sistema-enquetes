
<div class="content-container">
  <div class="content-header">
    <h1><%= t('polls.index.title') %></h1>
    <% if !(current_user&.administrador?) %>
      <%= link_to t('polls.index.new_poll'), new_poll_path, class: "btn-primary" %>
    <% end %>
  </div>

  <div class="poll-grid">
    <% if @polls.any? %>
    <% @polls.each do |poll| %>
      <%= link_to poll, class: "poll-card-link" do %>
        <div class="poll-card">
          <div class="poll-card-header"></div>
          <div class="poll-card-body">
            <h2 class="poll-card-question"><%= poll.question %></h2>
            <p class="poll-card-author"><%= t('polls.poll.user') %>: <%= poll.user&.email || poll.author_email || t('polls.poll.anonymous_user') %></p>
          </div>
          <div class="poll-card-footer">
            <% if poll.status.humanize == 'Closed' %>
              <span class="status-badge status-<%= poll.status %>"> Encerrado </span>
            <% elsif poll.status.humanize == 'Open' %>
              <span class="status-badge status-<%= poll.status %>"> Em aberto </span>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
    <% else %>
      <p class="no-polls-message"><%= t('polls.index.no_polls') %></p>
    <% end %>
  </div>
</div>
